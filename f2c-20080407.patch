diff -p -up f2c-20080407/f2c.h.tim f2c-20080407/f2c.h
--- f2c-20080407/f2c.h.tim	1999-09-07 19:46:24.000000000 +0200
+++ f2c-20080407/f2c.h	2009-12-08 21:12:09.000000000 +0100
@@ -7,6 +7,25 @@
 #ifndef F2C_INCLUDE
 #define F2C_INCLUDE
 
+#ifdef __alpha__
+
+typedef int integer;
+typedef unsigned uinteger;
+typedef char *address;
+typedef short int shortint;
+typedef float real;
+typedef double doublereal;
+typedef struct { real r, i; } complex;
+typedef struct { doublereal r, i; } doublecomplex;
+typedef int logical;
+typedef short int shortlogical;
+typedef char logical1;
+typedef char integer1;
+
+
+
+#else
+
 typedef long int integer;
 typedef unsigned long int uinteger;
 typedef char *address;
@@ -26,6 +45,8 @@ typedef unsigned long long ulongint;	/* 
 #define qbit_set(a,b)	((a) |  ((ulongint)1 << (b)))
 #endif
 
+#endif /* __alpha__ */
+
 #define TRUE_ (1)
 #define FALSE_ (0)
 
@@ -42,9 +63,21 @@ typedef short flag;
 typedef short ftnlen;
 typedef short ftnint;
 #else
+
+#ifdef __alpha__
+
+typedef int flag;
+typedef int ftnlen;
+typedef int ftnint;
+
+#else
+
 typedef long int flag;
 typedef long int ftnlen;
 typedef long int ftnint;
+
+#endif /* __alpha__ */
+
 #endif
 
 /*external read, write*/
diff -p -up f2c-20080407/libf2c/f2c.h0.tim f2c-20080407/libf2c/f2c.h0
--- f2c-20080407/libf2c/f2c.h0.tim	1999-09-07 19:46:24.000000000 +0200
+++ f2c-20080407/libf2c/f2c.h0	2009-12-08 21:10:13.000000000 +0100
@@ -7,6 +7,26 @@
 #ifndef F2C_INCLUDE
 #define F2C_INCLUDE
 
+#ifdef __alpha__
+
+typedef int integer;
+typedef unsigned uinteger;
+typedef char *address;
+typedef short int shortint;
+typedef float real;
+typedef double doublereal;
+typedef struct { real r, i; } complex;
+typedef struct { doublereal r, i; } doublecomplex;
+typedef int logical;
+typedef short int shortlogical;
+typedef char logical1;
+typedef char integer1;
+
+
+
+#else
+
+
 typedef long int integer;
 typedef unsigned long int uinteger;
 typedef char *address;
@@ -26,6 +46,8 @@ typedef unsigned long long ulongint;	/* 
 #define qbit_set(a,b)	((a) |  ((ulongint)1 << (b)))
 #endif
 
+#endif /* __alpha__ */
+
 #define TRUE_ (1)
 #define FALSE_ (0)
 
@@ -42,9 +64,21 @@ typedef short flag;
 typedef short ftnlen;
 typedef short ftnint;
 #else
+
+#ifdef __alpha__
+
+typedef int flag;
+typedef int ftnlen;
+typedef int ftnint;
+
+#else
+
 typedef long int flag;
 typedef long int ftnlen;
 typedef long int ftnint;
+
+#endif /* __alpha__ */
+
 #endif
 
 /*external read, write*/
diff -p -up f2c-20080407/libf2c/makefile.u.tim f2c-20080407/libf2c/makefile.u
--- f2c-20080407/libf2c/makefile.u.tim	2008-04-06 04:25:08.000000000 +0200
+++ f2c-20080407/libf2c/makefile.u	2009-12-08 20:59:26.000000000 +0100
@@ -13,15 +13,17 @@
 # to the CFLAGS = line below.
 
 .SUFFIXES: .c .o
-CC = cc
+CC = gcc
 SHELL = /bin/sh
-CFLAGS = -O
+CFLAGS = $(RPM_OPT_FLAGS)
+SHARED = libf2c.so.0.22
 
 # compile, then strip unnecessary symbols
 .c.o:
 	$(CC) -c -DSkip_f2c_Undefs $(CFLAGS) $*.c
-	ld -r -x -o $*.xxx $*.o
-	mv $*.xxx $*.o
+%.o : %.c \
+	$(CC) -c $(CFLAGS) $(CPPFLAGS) -f -o $@ $<
+
 ## Under Solaris (and other systems that do not understand ld -x),
 ## omit -x in the ld line above.
 ## If your system does not have the ld command, comment out
@@ -69,11 +71,21 @@ TIME =	dtime_.o etime_.o
 OFILES = $(MISC) $(POW) $(CX) $(DCX) $(REAL) $(DBL) $(INT) \
 	$(HALF) $(CMP) $(EFL) $(CHAR) $(I77) $(TIME)
 
-all: f2c.h signal1.h sysdep1.h libf2c.a
+all: f2c.h signal1.h sysdep1.h libf2c.a $(SHARED)
 
 libf2c.a: $(OFILES)
-	ar r libf2c.a $?
-	-ranlib libf2c.a
+	ar r $@ $? 
+	-ranlib $@
+
+
+SHAREDOBJ = $(patsubst %.o,%.o,$(MISC) $(POW) $(CX) $(DCX) \
+	$(REAL) $(DBL) $(INT) $(HALF) $(CMP) $(EFL) $(CHAR) $(I77) $(TIME))
+
+$(SHARED): $(SHAREDOBJ)
+	$(CC) -shared -Wl,-soname,libf2c.so.0 -o $@ *.o -lm -lc
+
+
+
 
 ## Shared-library variant: the following rule works on Linux
 ## systems.  Details are system-dependent.  Under Linux, -fPIC
@@ -122,7 +134,7 @@ install: libf2c.a
 	-ranlib $(LIBDIR)/libf2c.a
 
 clean:
-	rm -f libf2c.a *.o arith.h signal1.h sysdep1.h
+	rm -f libf2c.a *.o arith.h signal1.h sysdep1.h $(SHARED)
 
 backspac.o:	fio.h
 close.o:	fio.h
diff -p -up f2c-20080407/src/f2c.1t.tim f2c-20080407/src/f2c.1t
--- f2c-20080407/src/f2c.1t.tim	2002-06-21 20:40:35.000000000 +0200
+++ f2c-20080407/src/f2c.1t	2009-12-08 20:59:26.000000000 +0100
@@ -353,11 +353,8 @@ output file
 .F /usr/include/f2c.h
 header file
 .TP
-.F /usr/lib/libF77.a
-intrinsic function library
-.TP
-.F /usr/lib/libI77.a
-Fortran I/O library
+.F /usr/lib/libf2c.a
+f2c function library
 .TP
 .F /lib/libc.a
 C library, see section 3
diff -p -up f2c-20080407/src/f2c.h.tim f2c-20080407/src/f2c.h
--- f2c-20080407/src/f2c.h.tim	1999-09-07 19:46:24.000000000 +0200
+++ f2c-20080407/src/f2c.h	2009-12-08 21:08:11.000000000 +0100
@@ -7,6 +7,28 @@
 #ifndef F2C_INCLUDE
 #define F2C_INCLUDE
 
+#ifdef __alpha__
+
+typedef int integer;
+typedef unsigned uinteger;
+typedef char *address;
+typedef short int shortint;
+typedef float real;
+typedef double doublereal;
+typedef struct { real r, i; } complex;
+typedef struct { doublereal r, i; } doublecomplex;
+typedef int logical;
+typedef short int shortlogical;
+typedef char logical1;
+typedef char integer1;
+
+
+
+#else
+
+
+
+
 typedef long int integer;
 typedef unsigned long int uinteger;
 typedef char *address;
@@ -26,6 +48,8 @@ typedef unsigned long long ulongint;	/* 
 #define qbit_set(a,b)	((a) |  ((ulongint)1 << (b)))
 #endif
 
+#endif /* __alpha__ */
+
 #define TRUE_ (1)
 #define FALSE_ (0)
 
@@ -41,10 +65,23 @@ typedef unsigned long long ulongint;	/* 
 typedef short flag;
 typedef short ftnlen;
 typedef short ftnint;
+
 #else
+
+#ifdef __alpha__
+
+typedef int flag;
+typedef int ftnlen;
+typedef int ftnint;
+
+#else
+
 typedef long int flag;
 typedef long int ftnlen;
 typedef long int ftnint;
+
+#endif /* __alpha__ */
+
 #endif
 
 /*external read, write*/
diff -p -up f2c-20080407/src/makefile.u.tim f2c-20080407/src/makefile.u
--- f2c-20080407/src/makefile.u.tim	2005-03-05 02:24:21.000000000 +0100
+++ f2c-20080407/src/makefile.u	2009-12-08 20:59:26.000000000 +0100
@@ -1,8 +1,8 @@
 #	Makefile for f2c, a Fortran 77 to C converter
 
 .SUFFIXES: .c .o
-CC = cc
-CFLAGS = -O
+CC = gcc
+CFLAGS = $(RPM_OPT_FLAGS)
 SHELL = /bin/sh
 YACC = yacc
 YFLAGS =
